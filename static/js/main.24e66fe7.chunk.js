(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/bomb.4ed764ee.png"},function(e,t,a){e.exports=a(21)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(9),c=a.n(o),r=(a(17),a(2)),l=a(3),s=a(6),u=a(4),h=a(5),b=(a(18),a(1)),p=(a(8),a(10)),d=a.n(p),f=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={value:a.props.value,cellType:a.props.type},a.clickType=a.clickType.bind(Object(b.a)(Object(b.a)(a))),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"clickType",value:function(e){var t;e.preventDefault(),"which"in(e=e||window.event)?t=e.which:"button"in e&&(t=e.button);var a=t+1;console.log(a,this.state.cellType),3===a&&3===this.state.cellType&&(a=0),0===this.state.cellType&&3===a&&this.props.updateBomb(-1),3===this.state.cellType&&0===a&&this.props.updateBomb(1),1===a&&(3===this.state.cellType&&this.props.updateBomb(1),this.props.updateCellCount()),this.setState({cellType:a})}},{key:"render",value:function(){var e=this,t=this.state,a=t.value,n=t.cellType;return 0===n?i.a.createElement("button",{className:"cell",onContextMenu:function(t){return e.clickType(t)},onClick:function(t){return e.clickType(t)}}," "):1===n?-1===a?(this.props.explodeBomb(),i.a.createElement("div",{id:"div-bomb"},i.a.createElement("img",{src:d.a,alt:"bomb"})," ")):i.a.createElement("button",{className:"cell-clicked"}," ",a," "):i.a.createElement("button",{className:"cell-flagged",onContextMenu:function(t){return e.clickType(t)},onClick:function(t){return e.clickType(t)}}," ")}}]),t}(n.Component),m=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.i,a=this.props.j;return i.a.createElement("button",{className:"cell",onClick:function(){return e.props.click(t,a)}}," ")}}]),t}(n.Component);a(19);var v=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={grid_size:8,grid:[],bomb_count:0,cell_count:0,lost:!1,won:!1,first_click:!0,first_i:0,first_j:0},e.updateBombCount=e.updateBombCount.bind(Object(b.a)(Object(b.a)(e))),e.explodeBomb=e.explodeBomb.bind(Object(b.a)(Object(b.a)(e))),e.updateCellCount=e.updateCellCount.bind(Object(b.a)(Object(b.a)(e))),e.checkWin=e.checkWin.bind(Object(b.a)(Object(b.a)(e))),e.neighbors=e.neighbors.bind(Object(b.a)(Object(b.a)(e))),e.generateBoard=e.generateBoard.bind(Object(b.a)(Object(b.a)(e))),e.fakeBoard=e.fakeBoard.bind(Object(b.a)(Object(b.a)(e))),e.createBoard=e.createBoard.bind(Object(b.a)(Object(b.a)(e))),e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"updateBombCount",value:function(e){this.setState({bomb_count:this.state.bomb_count+e},this.checkWin)}},{key:"explodeBomb",value:function(){!1===this.state.lost&&this.setState({lost:!0})}},{key:"updateCellCount",value:function(){this.setState({cell_count:this.state.cell_count-1},this.checkWin)}},{key:"checkWin",value:function(){!1===this.state.lost&&!1===this.state.won&&0===this.state.cell_count&&0===this.state.bomb_count&&this.setState({won:!0})}},{key:"visibleChain",value:function(e,t){var a=this.state,n=a.grid,i=a.grid_size;if(0===n[e][t]){console.log("Uncover ",e,t);for(var o=[1,-1,0,0,-1,1,-1,1],c=[0,0,-1,1,1,1,-1,-1],r=0;r<8;r++)for(var l=0;l<8;l++){var s=e+o[r],u=t+c[l];s>=0&&u>=0&&s<i&&u<i&&this.visibleChain(s,u)}}}},{key:"neighbors",value:function(e,t){for(var a=[],n=this.state.grid_size,i=[1,-1,0,0,-1,1,-1,1],o=[0,0,-1,1,1,1,-1,-1],c=0;c<8;c++){var r=e+i[c],l=t+o[c];r<0||l<0||r>=n||l>=n||a.push({i:r,j:l})}return a}},{key:"generateBoard",value:function(e,t){var a=this.state.grid_size,n=0,i=new Array(a),o=this.neighbors(e,t);o.push({i:e,j:t});for(var c=function(e){i[e]=new Array(a);for(var t=function(t){o.filter(function(a){return a.i===e&&a.j===t}).length>0?(console.log("Neight ",e,t),i[e][t]=0):i[e][t]=function(){var e=[0,0,0,0,0,0,-1];return e[Math.floor(Math.random()*e.length)]}(),n+=-1===i[e][t]},c=0;c<a;c++)t(c)},r=0;r<a;r++)c(r);for(r=0;r<a;r++)for(var l=0;l<a;l++)if(0===i[r][l])for(var s=this.neighbors(r,l),u=0;u<s.length;u++){var h=s[u];i[r][l]+=-1===i[h.i][h.j]}this.setState({first_click:!1,first_i:e,first_j:t,grid:i,bomb_count:n,cell_count:a*a-n-1})}},{key:"createBoard",value:function(){var e=[],t=this.state,a=t.grid_size,n=t.grid;console.log("grid",n);for(var o=0;o<a;o++)for(var c=0;c<a;c++){var r=0;this.state.first_i===o&&this.state.first_j===c&&(r=1),e.push(i.a.createElement(f,{type:r,value:n[o][c],updateCellCount:this.updateCellCount,updateBomb:this.updateBombCount,explodeBomb:this.explodeBomb}))}return e}},{key:"fakeBoard",value:function(){for(var e=[],t=this.state.grid_size,a=0;a<t;a++)for(var n=0;n<t;n++)e.push(i.a.createElement(m,{click:this.generateBoard,i:a,j:n}));return e}},{key:"render",value:function(){return i.a.createElement("div",null,!this.state.first_click&&i.a.createElement("h4",{class:"text-right"}," Bombs left: ",this.state.bomb_count," "),this.state.lost&&i.a.createElement("h1",{align:"center",id:"youLost"}," You lost! "),this.state.won&&i.a.createElement("h1",{align:"center",id:"youWon"}," You Won! "),i.a.createElement("div",{className:"grid-"+(this.state.lost||this.state.won?"disabled":"container")},this.state.first_click?this.fakeBoard():this.createBoard()))}}]),t}(n.Component),g=(a(20),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{class:"container"},i.a.createElement("h1",{class:"text-center"}," Minesweeper "),i.a.createElement(v,null),i.a.createElement("div",{class:"d-inline text-center"},i.a.createElement("a",{class:"btn btn-outline-danger",href:"./"}," RESTART ")),i.a.createElement("h3",{class:"mt-5"}," Rules: "),i.a.createElement("p",null,"Clicking with the left mouse button reveals the content of a unclicked cell."),i.a.createElement("p",null,"Using the right mouse button ",i.a.createElement("span",{class:"flag"}," flags ")," a cell as a potential bomb. It is possible to unflag a cell by clicking on it"),i.a.createElement("p",null,"In order to win the game you must reveal all ",i.a.createElement("span",{class:"safe"}," safe ")," cells and ",i.a.createElement("span",{class:"flag"}," flag ")," all cells containing bombs."),i.a.createElement("p",null,"The map is generated randomly at the moment you make your first click. Don't panic, your first click is always safe!"),i.a.createElement("p",null,"Good Luck!"))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[11,1,2]]]);
//# sourceMappingURL=main.24e66fe7.chunk.js.map